"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = RoleBasedDashboard;
var jsx_runtime_1 = require("react/jsx-runtime");
var wouter_1 = require("wouter");
var useAuth_1 = require("@/hooks/useAuth");
var react_1 = require("react");
var card_1 = require("@/components/ui/card");
var badge_1 = require("@/components/ui/badge");
var lucide_react_1 = require("lucide-react");
// Simple dashboard components for each role
var SuperAdminDashboard = function () { return ((0, jsx_runtime_1.jsxs)("div", { className: "p-6 space-y-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsx)("h1", { className: "text-3xl font-bold", children: "\u0644\u0648\u062D\u0629 \u062A\u062D\u0643\u0645 \u0627\u0644\u0645\u062F\u064A\u0631 \u0627\u0644\u0639\u0627\u0645" }), (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: "secondary", children: "\u0645\u062F\u064A\u0631 \u0639\u0627\u0645" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6", children: [(0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: "text-sm font-medium", children: "\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0634\u0631\u0643\u0627\u062A" }), (0, jsx_runtime_1.jsx)(lucide_react_1.Building2, { className: "h-4 w-4 text-muted-foreground" })] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold", children: "24" }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs text-muted-foreground", children: "+2 \u0645\u0646 \u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u0645\u0627\u0636\u064A" })] })] }), (0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: "text-sm font-medium", children: "\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0648\u0638\u0641\u064A\u0646" }), (0, jsx_runtime_1.jsx)(lucide_react_1.Users, { className: "h-4 w-4 text-muted-foreground" })] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold", children: "1,234" }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs text-muted-foreground", children: "+12 \u0645\u0646 \u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u0645\u0627\u0636\u064A" })] })] }), (0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: "text-sm font-medium", children: "\u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631 \u0627\u0644\u0646\u0634\u0637\u0629" }), (0, jsx_runtime_1.jsx)(lucide_react_1.FileText, { className: "h-4 w-4 text-muted-foreground" })] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold", children: "89" }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs text-muted-foreground", children: "+5 \u0645\u0646 \u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u0645\u0627\u0636\u064A" })] })] })] })] })); };
var CompanyManagerDashboard = function () { return ((0, jsx_runtime_1.jsxs)("div", { className: "p-6 space-y-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsx)("h1", { className: "text-3xl font-bold", children: "\u0644\u0648\u062D\u0629 \u062A\u062D\u0643\u0645 \u0645\u062F\u064A\u0631 \u0627\u0644\u0634\u0631\u0643\u0629" }), (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: "secondary", children: "\u0645\u062F\u064A\u0631 \u0634\u0631\u0643\u0629" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6", children: [(0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: "text-sm font-medium", children: "\u0627\u0644\u0645\u0648\u0638\u0641\u064A\u0646 \u0627\u0644\u0646\u0634\u0637\u064A\u0646" }), (0, jsx_runtime_1.jsx)(lucide_react_1.Users, { className: "h-4 w-4 text-muted-foreground" })] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold", children: "156" }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs text-muted-foreground", children: "+3 \u0645\u0646 \u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u0645\u0627\u0636\u064A" })] })] }), (0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: "text-sm font-medium", children: "\u0627\u0644\u062D\u0636\u0648\u0631 \u0627\u0644\u064A\u0648\u0645" }), (0, jsx_runtime_1.jsx)(lucide_react_1.Calendar, { className: "h-4 w-4 text-muted-foreground" })] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold", children: "142" }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs text-muted-foreground", children: "91% \u0646\u0633\u0628\u0629 \u0627\u0644\u062D\u0636\u0648\u0631" })] })] }), (0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: "text-sm font-medium", children: "\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0631\u0648\u0627\u062A\u0628" }), (0, jsx_runtime_1.jsx)(lucide_react_1.TrendingUp, { className: "h-4 w-4 text-muted-foreground" })] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold", children: "45,000 \u062F.\u0643" }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs text-muted-foreground", children: "+2.5% \u0645\u0646 \u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u0645\u0627\u0636\u064A" })] })] })] })] })); };
var EmployeeDashboard = function () { return ((0, jsx_runtime_1.jsxs)("div", { className: "p-6 space-y-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsx)("h1", { className: "text-3xl font-bold", children: "\u0644\u0648\u062D\u0629 \u062A\u062D\u0643\u0645 \u0627\u0644\u0645\u0648\u0638\u0641" }), (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: "secondary", children: "\u0645\u0648\u0638\u0641" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6", children: [(0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: "text-sm font-medium", children: "\u0623\u064A\u0627\u0645 \u0627\u0644\u0625\u062C\u0627\u0632\u0629 \u0627\u0644\u0645\u062A\u0628\u0642\u064A\u0629" }), (0, jsx_runtime_1.jsx)(lucide_react_1.Calendar, { className: "h-4 w-4 text-muted-foreground" })] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold", children: "18" }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs text-muted-foreground", children: "\u0645\u0646 \u0623\u0635\u0644 30 \u064A\u0648\u0645" })] })] }), (0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: "text-sm font-medium", children: "\u0633\u0627\u0639\u0627\u062A \u0627\u0644\u0639\u0645\u0644" }), (0, jsx_runtime_1.jsx)(lucide_react_1.TrendingUp, { className: "h-4 w-4 text-muted-foreground" })] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold", children: "168" }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs text-muted-foreground", children: "\u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631" })] })] }), (0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: "text-sm font-medium", children: "\u0627\u0644\u0631\u0627\u062A\u0628 \u0627\u0644\u0634\u0647\u0631\u064A" }), (0, jsx_runtime_1.jsx)(lucide_react_1.FileText, { className: "h-4 w-4 text-muted-foreground" })] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold", children: "850 \u062F.\u0643" }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs text-muted-foreground", children: "+50 \u062F.\u0643 \u0645\u0646 \u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u0645\u0627\u0636\u064A" })] })] })] })] })); };
var SupervisorDashboard = function () { return ((0, jsx_runtime_1.jsxs)("div", { className: "p-6 space-y-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsx)("h1", { className: "text-3xl font-bold", children: "\u0644\u0648\u062D\u0629 \u062A\u062D\u0643\u0645 \u0627\u0644\u0645\u0634\u0631\u0641" }), (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: "secondary", children: "\u0645\u0634\u0631\u0641" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6", children: [(0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: "text-sm font-medium", children: "\u0627\u0644\u0641\u0631\u064A\u0642 \u0627\u0644\u0645\u0628\u0627\u0634\u0631" }), (0, jsx_runtime_1.jsx)(lucide_react_1.Users, { className: "h-4 w-4 text-muted-foreground" })] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold", children: "12" }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs text-muted-foreground", children: "\u062C\u0645\u064A\u0639\u0647\u0645 \u0646\u0634\u0637\u064A\u0646" })] })] }), (0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: "text-sm font-medium", children: "\u0637\u0644\u0628\u0627\u062A \u0627\u0644\u0625\u062C\u0627\u0632\u0627\u062A" }), (0, jsx_runtime_1.jsx)(lucide_react_1.Calendar, { className: "h-4 w-4 text-muted-foreground" })] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold", children: "5" }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs text-muted-foreground", children: "\u0641\u064A \u0627\u0646\u062A\u0638\u0627\u0631 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629" })] })] }), (0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: "text-sm font-medium", children: "\u0645\u0639\u062F\u0644 \u0627\u0644\u0623\u062F\u0627\u0621" }), (0, jsx_runtime_1.jsx)(lucide_react_1.TrendingUp, { className: "h-4 w-4 text-muted-foreground" })] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold", children: "94%" }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs text-muted-foreground", children: "+2% \u0645\u0646 \u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u0645\u0627\u0636\u064A" })] })] })] })] })); };
var WorkerDashboard = function () { return ((0, jsx_runtime_1.jsxs)("div", { className: "p-6 space-y-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsx)("h1", { className: "text-3xl font-bold", children: "\u0644\u0648\u062D\u0629 \u062A\u062D\u0643\u0645 \u0627\u0644\u0639\u0627\u0645\u0644" }), (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: "secondary", children: "\u0639\u0627\u0645\u0644" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6", children: [(0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: "text-sm font-medium", children: "\u0633\u0627\u0639\u0627\u062A \u0627\u0644\u0639\u0645\u0644" }), (0, jsx_runtime_1.jsx)(lucide_react_1.Calendar, { className: "h-4 w-4 text-muted-foreground" })] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold", children: "8.5" }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs text-muted-foreground", children: "\u0627\u0644\u064A\u0648\u0645" })] })] }), (0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: "text-sm font-medium", children: "\u0627\u0644\u0645\u0647\u0627\u0645 \u0627\u0644\u0645\u0643\u062A\u0645\u0644\u0629" }), (0, jsx_runtime_1.jsx)(lucide_react_1.TrendingUp, { className: "h-4 w-4 text-muted-foreground" })] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold", children: "15" }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs text-muted-foreground", children: "\u0645\u0646 \u0623\u0635\u0644 18 \u0645\u0647\u0645\u0629" })] })] }), (0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: "text-sm font-medium", children: "\u0627\u0644\u0631\u0627\u062A\u0628 \u0627\u0644\u0634\u0647\u0631\u064A" }), (0, jsx_runtime_1.jsx)(lucide_react_1.FileText, { className: "h-4 w-4 text-muted-foreground" })] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold", children: "650 \u062F.\u0643" }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs text-muted-foreground", children: "+25 \u062F.\u0643 \u0645\u0646 \u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u0645\u0627\u0636\u064A" })] })] })] })] })); };
function RoleBasedDashboard(_a) {
    var role = _a.role;
    var _b = (0, wouter_1.useLocation)(), setLocation = _b[1];
    var user = (0, useAuth_1.useAuth)().user;
    // Get role from props, URL params, or user data
    var getRole = function () {
        // First check props
        if (role) {
            return role;
        }
        // Check URL path parameter
        var pathSegments = window.location.pathname.split('/');
        var roleFromPath = pathSegments[pathSegments.length - 1];
        if (roleFromPath && roleFromPath !== 'dashboard') {
            return roleFromPath;
        }
        // Extract role from URL search params
        var urlParams = new window.URLSearchParams(window.location.search);
        var urlRole = urlParams.get('role');
        if (urlRole) {
            return urlRole;
        }
        // Get role from user data
        if (user === null || user === void 0 ? void 0 : user.role) {
            return user.role;
        }
        // Default role
        return 'worker';
    };
    var currentRole = getRole();
    // Redirect to appropriate dashboard based on role if needed
    (0, react_1.useEffect)(function () {
        var roleMap = {
            'super_admin': '/dashboard/super-admin',
            'company_manager': '/dashboard/company-manager',
            'employee': '/dashboard/employee',
            'supervisor': '/dashboard/supervisor',
            'worker': '/dashboard/worker'
        };
        var targetPath = roleMap[currentRole];
        var currentPath = window.location.pathname;
        // Only redirect if we're not already on the correct path
        if (targetPath && currentPath !== targetPath && !currentPath.includes('/dashboard/')) {
            setLocation(targetPath);
        }
    }, [currentRole, setLocation]);
    // Render appropriate dashboard component
    var renderDashboard = function () {
        switch (currentRole) {
            case 'super_admin':
                return (0, jsx_runtime_1.jsx)(SuperAdminDashboard, {});
            case 'company_manager':
                return (0, jsx_runtime_1.jsx)(CompanyManagerDashboard, {});
            case 'employee':
                return (0, jsx_runtime_1.jsx)(EmployeeDashboard, {});
            case 'supervisor':
                return (0, jsx_runtime_1.jsx)(SupervisorDashboard, {});
            case 'worker':
                return (0, jsx_runtime_1.jsx)(WorkerDashboard, {});
            default:
                return (0, jsx_runtime_1.jsx)(WorkerDashboard, {});
        }
    };
    return renderDashboard();
}
